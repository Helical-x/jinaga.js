let user: Jinaga.User = me
let creator: Jinaga.User = {publicKey:"-----BEGIN RSA PUBLIC KEY-----\nMIGJAoGBAIBsKomutukULWw2zoTW2ECMrM8VmD2xvfpl3R4qh1whzuXV+A4EfRKMb/UAjEfw\n5nBmWvcObGyYUgygKrlNeOhf3MnDj706rej6ln9cKGL++ZNsJgJsogaAtmkPihWVGi908fdP\nLQrWTF5be0b/ZP258Zs3CTpcRTpTvhzS5TC1AgMBAAE=\n-----END RSA PUBLIC KEY-----\n"}
let company: ImprovingU.Company = {name:"Improving",from:creator}
let semester: ImprovingU.Semester = {name:"Fall 2021",company}

(semester: ImprovingU.Semester, user: Jinaga.User) {
    catalog: ImprovingU.Catalog [
        catalog->_in:ImprovingU.Semester = semester
    ]
} => {
    office = catalog.office
    courses = {
        course: ImprovingU.Course [
            course->_in:ImprovingU.Catalog = catalog
            !E {
                delete: ImprovingU.Course.Delete [
                    delete->course:ImprovingU.Course = course
                ]
            }
        ]
    } => {
        titles = {
            title: ImprovingU.Course.Title [
                title->course: ImprovingU.Course = course
                !E {
                    next: ImprovingU.Course.Title [
                        next->prior: ImprovingU.Course.Title = title
                    ]
                }
            ]
        } => title.value
        instructors = {
            instructor: ImprovingU.Course.Instructor [
                instructor->course: ImprovingU.Course = course
                !E {
                    next: ImprovingU.Course.Instructor [
                        next->prior: ImprovingU.Course.Instructor = instructor
                    ]
                }
            ]
        } => instructor.value
    }
}
